<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="Compare College Fees - CollegeGate Dehradun">
  <meta property="og:description" content="Compare fees of top colleges in Dehradun. Make informed decisions based on course fees and facilities.">
  <link rel="shortcut icon" href="https://mocha-cdn.com/favicon.ico" type="image/x-icon">
  <link rel="stylesheet" href="styles.css">
  <title>Compare College Fees - CollegeGate Dehradun</title>
  <style>
    /* Fee Comparison Page Specific Styles */
    .comparison-hero {
      background: linear-gradient(to right, #f0f5ff, #e6e9ff);
      border-radius: 0.75rem;
      padding: 2.5rem;
      margin-bottom: 2rem;
      position: relative;
      overflow: hidden;
    }
    
    .comparison-hero::before {
      content: '';
      position: absolute;
      top: -50px;
      right: -50px;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: rgba(79, 70, 229, 0.1);
      z-index: 0;
    }
    
    .comparison-hero h1, 
    .comparison-hero p {
      position: relative;
      z-index: 1;
    }
    
    .comparison-filters {
      background-color: white;
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }
    
    .filter-row {
      display: flex;
      flex-wrap: wrap;
      gap: 1rem;
      align-items: center;
    }
    
    .filter-group {
      flex: 1;
      min-width: 200px;
    }
    
    .filter-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      font-size: 0.875rem;
      color: var(--text-primary);
    }
    
    .filter-select {
      width: 100%;
      padding: 0.75rem;
      border: 1px solid var(--gray-300);
      border-radius: 0.375rem;
      font-size: 0.875rem;
      transition: all 0.3s ease;
    }
    
    .filter-select:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
    }
    
    .compare-btn {
      margin-top: 1.5rem;
      padding: 0.75rem 1.5rem;
      background-color: var(--primary);
      color: white;
      border: none;
      border-radius: 0.375rem;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    
    .compare-btn:hover {
      background-color: var(--primary-dark);
    }
    
    .comparison-table-container {
      overflow-x: auto;
      background-color: white;
      border-radius: 0.75rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      margin-bottom: 2rem;
    }
    
    .comparison-table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }
    
    .comparison-table th,
    .comparison-table td {
      padding: 1rem;
      text-align: left;
      border-bottom: 1px solid var(--gray-200);
    }
    
    .comparison-table th {
      background-color: var(--gray-100);
      font-weight: 600;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    
    .comparison-table th.feature-col {
      width: 200px;
    }
    
    .comparison-table th.college-col {
      width: 250px;
    }
    
    .comparison-table tr:hover {
      background-color: var(--gray-50);
    }
    
    .college-header {
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }
    
    .college-logo {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      overflow: hidden;
      flex-shrink: 0;
    }
    
    .college-logo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
    
    .college-name {
      font-weight: 600;
    }
    
    .fee-amount {
      font-weight: 600;
      color: var(--primary);
    }
    
    .chart-container {
      margin-top: 2rem;
      background-color: white;
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .chart-title {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }
    
    .chart {
      height: 400px;
      position: relative;
    }
    
    .bar-container {
      display: flex;
      height: 100%;
      padding-top: 1.5rem;
      align-items: flex-end;
      gap: 2rem;
      margin-top: 1rem;
    }
    
    .chart-bar {
      flex: 1;
      display: flex;
      flex-direction: column;
      align-items: center;
      animation: growUp 1s ease-out forwards;
      transform-origin: bottom;
    }
    
    .bar {
      width: 80px;
      background: linear-gradient(to top, var(--primary), #3b82f6);
      border-radius: 6px 6px 0 0;
      transition: all 0.3s ease;
      position: relative;
    }
    
    .bar:hover {
      filter: brightness(1.1);
    }
    
    .bar-label {
      font-weight: 500;
      margin-top: 0.5rem;
      text-align: center;
      font-size: 0.875rem;
    }
    
    .bar-value {
      position: absolute;
      top: -2rem;
      font-weight: 600;
      color: var(--primary);
    }
    
    .chart-y-axis {
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      padding-right: 0.5rem;
      font-size: 0.75rem;
      color: var(--gray-500);
    }
    
    .chart-x-axis {
      position: absolute;
      left: 0;
      right: 0;
      bottom: 0;
      height: 1px;
      background-color: var(--gray-300);
    }
    
    .actions-bar {
      display: flex;
      justify-content: flex-end;
      gap: 1rem;
      margin-bottom: 1rem;
    }
    
    .action-btn {
      padding: 0.5rem 1rem;
      background-color: var(--white);
      border: 1px solid var(--gray-300);
      border-radius: 0.375rem;
      font-size: 0.875rem;
      display: flex;
      align-items: center;
      gap: 0.375rem;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    
    .action-btn:hover {
      border-color: var(--primary);
      color: var(--primary);
    }
    
    .info-section {
      margin-top: 3rem;
    }
    
    .info-card {
      background-color: white;
      padding: 1.5rem;
      border-radius: 0.75rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .info-card h3 {
      font-size: 1.25rem;
      font-weight: 600;
      margin-bottom: 1rem;
      color: var(--text-primary);
    }
    
    .tips-list {
      margin-left: 1.5rem;
    }
    
    .tips-list li {
      margin-bottom: 0.75rem;
      position: relative;
      padding-left: 0.5rem;
    }
    
    .tips-list li::before {
      content: '•';
      position: absolute;
      left: -1rem;
      color: var(--primary);
      font-weight: bold;
    }
    
    /* Animation effects */
    .fade-in {
      opacity: 0;
      transform: translateY(20px);
      animation: fadeInUp 0.6s ease forwards;
    }
    
    .fade-in-delay-1 {
      animation-delay: 0.2s;
    }
    
    .fade-in-delay-2 {
      animation-delay: 0.4s;
    }
    
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    @keyframes growUp {
      from {
        transform: scaleY(0);
      }
      to {
        transform: scaleY(1);
      }
    }
    
    /* Responsive adaptations */
    @media screen and (max-width: 768px) {
      .filter-row {
        flex-direction: column;
      }
      
      .filter-group {
        width: 100%;
      }
      
      .bar {
        width: 60px;
      }
    }
  </style>
</head>
<body>
  <header class="header" id="header">
    <div class="container">
      <div class="header-content">
        <a href="index.html" class="logo">
          College<span>Gate</span>
        </a>
        
        <nav class="main-nav" id="main-nav">
          <a href="index.html" class="nav-link">Home</a>
          <a href="colleges.html" class="nav-link">Colleges</a>
          <a href="counselling.html" class="nav-link">Counselling</a>
          <a href="comparison.html" class="nav-link active">Compare Fees</a>
          <a href="contact.html" class="nav-link">Contact</a>
        </nav>
        
        <div class="nav-actions">
          <button class="btn-primary">Get Assistance</button>
        </div>
        
        <button class="mobile-menu-btn" id="menu-toggle">
          <span></span>
          <span></span>
          <span></span>
        </button>
      </div>
    </div>
  </header>

  <style>
    /* Base Styles */
    :root {
        --primary-color: #4f46e5;
        --primary-hover: #4338ca;
        --secondary-color: #10b981;
        --text-dark: #2d3748;
        --text-light: #4a5568;
        --text-muted: #718096;
        --bg-light: #f8f9fa;
        --bg-white: #ffffff;
        --border-color: #e2e8f0;
        --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
        --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        --radius: 0.375rem;
    }
    
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }
    
    body {
        font-family: 'Inter', sans-serif;
        color: var(--text-dark);
        background: linear-gradient(to bottom, var(--bg-light), #e9ecef);
        min-height: 100vh;
    }
    
    .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
    }
    
    header {
        background-color: var(--bg-white);
        box-shadow: var(--shadow-sm);
        padding: 1rem 0;
    }
    
    header h1 {
        font-family: 'Poppins', sans-serif;
        font-size: 1.5rem;
        font-weight: 700;
        color: var(--text-dark);
    }
    
    header p {
        color: var(--text-light);
        margin-top: 0.25rem;
    }
    
    main {
        padding: 2rem 0;
    }
    
    footer {
        background-color: var(--bg-white);
        border-top: 1px solid var(--border-color);
        padding: 1.5rem 0;
        text-align: center;
        color: var(--text-muted);
    }
    
    /* Component Styles */
    .card {
        background-color: var(--bg-white);
        border-radius: var(--radius);
        box-shadow: var(--shadow-lg);
        padding: 1.5rem;
        margin-bottom: 2rem;
    }
    
    .card-title {
        font-family: 'Poppins', sans-serif;
        font-size: 1.75rem;
        font-weight: 700;
        color: var(--text-dark);
        margin-bottom: 0.5rem;
    }
    
    .card-subtitle {
        color: var(--text-light);
        margin-bottom: 1.5rem;
    }
    
    .filter-bar {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        margin-bottom: 1.5rem;
        align-items: center;
        justify-content: space-between;
    }
    
    .filter-group {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
    }
    
    .search-input {
        position: relative;
    }
    
    .search-input input,
    .filter-select {
        padding: 0.5rem 1rem;
        border: 1px solid var(--border-color);
        border-radius: var(--radius);
        font-family: 'Inter', sans-serif;
        font-size: 0.875rem;
        outline: none;
        transition: border-color 0.2s, box-shadow 0.2s;
    }
    
    .search-input input {
        width: 240px;
        padding-right: 2.5rem;
    }
    
    .search-input i,
    .filter-select-icon {
        position: absolute;
        right: 0.75rem;
        top: 50%;
        transform: translateY(-50%);
        color: var(--text-muted);
    }
    
    .filter-select {
        padding-right: 2.5rem;
        appearance: none;
        background-color: var(--bg-white);
        width: 240px;
        cursor: pointer;
    }
    
    .filter-select-wrapper {
        position: relative;
    }
    
    .btn {
        padding: 0.5rem 1rem;
        border-radius: var(--radius);
        font-family: 'Inter', sans-serif;
        font-size: 0.875rem;
        font-weight: 500;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: all 0.2s;
        border: none;
        gap: 0.5rem;
    }
    
    .btn-primary {
        background-color: var(--primary-color);
        color: white;
    }
    
    .btn-primary:hover:not(:disabled) {
        background-color: var(--primary-hover);
    }
    
    .btn:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
    
    .btn .badge {
        background-color: rgba(255, 255, 255, 0.2);
        padding: 0.125rem 0.5rem;
        border-radius: 1rem;
        font-size: 0.75rem;
    }
    
    /* Table styles */
    .table-container {
        overflow-x: auto;
    }
    
    table {
        width: 100%;
        border-collapse: collapse;
        text-align: left;
    }
    
    thead {
        background-color: #f9fafb;
        border-bottom: 1px solid var(--border-color);
    }
    
    th {
        padding: 0.75rem 1.5rem;
        font-size: 0.75rem;
        font-weight: 500;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 0.05em;
        white-space: nowrap;
    }
    
    td {
        padding: 1rem 1.5rem;
        font-size: 0.875rem;
        border-bottom: 1px solid var(--border-color);
        white-space: nowrap;
    }
    
    tbody tr:hover {
        background-color: #f9fafb;
    }
    
    .sortable {
        cursor: pointer;
        display: flex;
        align-items: center;
    }
    
    .sortable:after {
        content: '⇅';
        margin-left: 0.25rem;
        font-size: 0.875rem;
    }
    
    /* College logo */
    .college-logo {
        width: 2.5rem;
        height: 2.5rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #ebf4ff;
        border-radius: 50%;
        font-size: 1.25rem;
        flex-shrink: 0;
    }
    
    .college-info {
        display: flex;
        align-items: center;
        gap: 1rem;
    }
    
    .college-name {
        font-weight: 500;
    }
    
    .badge-green {
        display: inline-flex;
        padding: 0.125rem 0.5rem;
        border-radius: 1rem;
        font-size: 0.75rem;
        font-weight: 500;
        background-color: #d1fae5;
        color: #065f46;
        margin-top: 0.25rem;
    }
    
    .fees-low {
        color: #059669;
        font-weight: 600;
    }
    
    .fees-medium {
        color: #d97706;
        font-weight: 600;
    }
    
    .fees-high {
        color: #dc2626;
        font-weight: 600;
    }
    
    .fees-info {
        display: flex;
        align-items: center;
        color: var(--primary-color);
        cursor: pointer;
        gap: 0.25rem;
        font-weight: 500;
        font-size: 0.875rem;
    }
    
    .fees-tooltip {
        position: absolute;
        background-color: var(--bg-white);
        border-radius: var(--radius);
        box-shadow: var(--shadow-lg);
        padding: 0.75rem 1rem;
        width: 12rem;
        z-index: 10;
        visibility: hidden;
        opacity: 0;
        transition: opacity 0.3s, visibility 0.3s;
        border: 1px solid var(--border-color);
    }
    
    .fees-info:hover .fees-tooltip {
        visibility: visible;
        opacity: 1;
    }
    
    .tooltip-item {
        display: flex;
        justify-content: space-between;
        margin: 0.5rem 0;
        font-size: 0.875rem;
        color: var(--text-dark);
    }
    
    .tooltip-item:not(:last-child) {
        border-bottom: 1px solid var(--border-color);
        padding-bottom: 0.5rem;
    }
    
    /* Helper Box */
    .helper-box {
        background-color: #ebf5ff;
        border-radius: var(--radius);
        padding: 1rem;
        margin-top: 1.5rem;
    }
    
    .helper-box-title {
        font-weight: 600;
        color: #1e40af;
        margin-bottom: 0.5rem;
    }
    
    .helper-box-text {
        color: #1e3a8a;
        font-size: 0.875rem;
        margin-bottom: 0.75rem;
    }
    
    /* Modal */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 50;
        padding: 1rem;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s, visibility 0.3s;
    }
    
    .modal-overlay.active {
        opacity: 1;
        visibility: visible;
    }
    
    .modal {
        background-color: var(--bg-white);
        border-radius: var(--radius);
        box-shadow: var(--shadow-lg);
        width: 100%;
        max-width: 1000px;
        max-height: 90vh;
        overflow-y: auto;
    }
    
    .modal-header {
        position: sticky;
        top: 0;
        background-color: var(--bg-white);
        padding: 1rem 1.5rem;
        border-bottom: 1px solid var(--border-color);
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .modal-title {
        font-family: 'Poppins', sans-serif;
        font-size: 1.5rem;
        font-weight: 700;
    }
    
    .modal-close {
        width: 2rem;
        height: 2rem;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: var(--text-muted);
        transition: background-color 0.2s;
    }
    
    .modal-close:hover {
        background-color: #f3f4f6;
    }
    
    .modal-body {
        padding: 1.5rem;
    }
    
    .college-header {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 2rem;
        margin-bottom: 2rem;
    }
    
    .college-header-item {
        display: flex;
        align-items: center;
    }
    
    .college-header-logo {
        width: 4rem;
        height: 4rem;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: #ebf4ff;
        border-radius: var(--radius);
        font-size: 2rem;
        margin-right: 1rem;
    }
    
    .college-header-name {
        font-size: 1.25rem;
        font-weight: 600;
    }
    
    /* Chart styles */
    .chart-container {
        height: 400px;
        margin-bottom: 2.5rem;
    }
    
    .chart-title {
        font-size: 1.125rem;
        font-weight: 600;
        margin-bottom: 1rem;
        color: var(--text-dark);
    }
    
    /* Course grid */
    .course-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 1rem;
    }
    
    .course-item {
        background-color: #f9fafb;
        padding: 1rem;
        border-radius: var(--radius);
        display: flex;
        align-items: center;
    }
    
    .course-name {
        font-size: 1.125rem;
        font-weight: 500;
        flex-grow: 1;
    }
    
    .course-availability {
        display: flex;
        gap: 0.75rem;
    }
    
    .available {
        color: #059669;
    }
    
    .not-available {
        color: #dc2626;
    }

    /* Chart canvas */
    #comparisonChart {
        width: 100%;
        height: 100%;
    }

    /* Responsive styles */
    @media (max-width: 768px) {
        .filter-bar {
            flex-direction: column;
            align-items: stretch;
        }
        
        .search-input input, 
        .filter-select {
            width: 100%;
        }
        
        .college-header {
            grid-template-columns: 1fr;
            gap: 1rem;
        }
        
        .course-grid {
            grid-template-columns: 1fr;
        }
    }
</style>

<main>
    <div class="container">
        <div class="card">
            <h2 class="card-title">College Fees Comparison</h2>
            <p class="card-subtitle">Compare tuition fees and other costs across top colleges in Dehradun</p>
            
            <div class="filter-bar">
                <div class="filter-group">
                    <div class="search-input">
                        <input id="collegeSearch" type="text" placeholder="Search colleges...">
                        <i>🔍</i>
                    </div>
                    
                    <div class="filter-select-wrapper">
                        <select id="courseFilter" class="filter-select">
                            <option value="">Filter by course</option>
                            <option value="B.Tech">B.Tech</option>
                            <option value="BBA">BBA</option>
                            <option value="MBA">MBA</option>
                            <option value="BCA">BCA</option>
                            <option value="MCA">MCA</option>
                            <option value="B.Sc">B.Sc</option>
                            <option value="M.Sc">M.Sc</option>
                            <option value="B.Pharm">B.Pharm</option>
                            <option value="LLB">LLB</option>
                        </select>
                        <span class="filter-select-icon">▼</span>
                    </div>
                </div>
                
                <button id="compareBtn" class="btn btn-primary" disabled>
                    <span>📊</span> Compare Colleges
                    <span class="badge" id="selectedCount">0/2</span>
                </button>
            </div>
            
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>
                                <div>
                                    <span>Compare</span>
                                    College
                                </div>
                            </th>
                            <th class="sortable" data-sort="tuitionFee">Tuition Fee</th>
                            <th class="sortable" data-sort="hostelFee">Hostel Fee</th>
                            <th>Other Fees</th>
                            <th class="sortable" data-sort="totalFee">Total Cost</th>
                        </tr>
                    </thead>
                    <tbody id="collegeTableBody">
                        <!-- College rows will be generated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div id="noResults" style="text-align: center; padding: 2.5rem; color: var(--text-muted); display: none;">
                No colleges match your search criteria
            </div>
            
            <div class="helper-box">
                <h3 class="helper-box-title">Need Help Deciding?</h3>
                <p class="helper-box-text">Our counselors can help you understand these fees and find the best college that fits your budget and academic goals.</p>
                <button class="btn btn-primary">Book a Counseling Session</button>
            </div>
        </div>
    </div>
</main>

<div id="comparisonModal" class="modal-overlay">
    <div class="modal">
        <div class="modal-header">
            <h2 class="modal-title">College Comparison</h2>
            <div class="modal-close" id="closeModal">✕</div>
        </div>
        <div class="modal-body">
            <div class="college-header" id="collegeHeaderCompare">
                <!-- College headers will be generated by JavaScript -->
            </div>
            
            <div>
                <h3 class="chart-title">Fee Comparison</h3>
                <div class="chart-container">
                    <canvas id="comparisonChart"></canvas>
                </div>
            </div>
            
            <div class="table-container" style="margin-bottom: 2.5rem;">
                <h3 class="chart-title">Detailed Fee Structure</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Fee Type</th>
                            <th id="college1NameHeader">College 1</th>
                            <th id="college2NameHeader">College 2</th>
                            <th>Difference</th>
                        </tr>
                    </thead>
                    <tbody id="feeComparisonTableBody">
                        <!-- Fee comparison rows will be generated by JavaScript -->
                    </tbody>
                </table>
            </div>
            
            <div>
                <h3 class="chart-title">Available Courses</h3>
                <div class="course-grid" id="coursesGrid">
                    <!-- Course items will be generated by JavaScript -->
                </div>
            </div>
        </div>
    </div>
</div>

<footer>
    <div class="container">
        <p>© 2024 College Gate | Dehradun's Premier College Counseling Service</p>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/chart.js@3.7.1/dist/chart.min.js"></script>
<script>
    // College fee data
    const collegeData = [
        {
            id: 1,
            name: 'UPES Dehradun',
            logo: '🏛️',
            tuitionFee: 200000,
            hostelFee: 120000,
            examFee: 5000,
            libraryFee: 10000,
            scholarshipAvailable: true,
            totalFee: 335000,
            courses: ['B.Tech', 'BBA', 'LLB', 'MBA']
        },
        {
            id: 2,
            name: 'Jigyasa University',
            logo: '🎓',
            tuitionFee: 150000,
            hostelFee: 90000,
            examFee: 4000,
            libraryFee: 8000,
            scholarshipAvailable: true,
            totalFee: 252000,
            courses: ['B.Tech', 'BCA', 'B.Sc', 'M.Tech']
        },
        {
            id: 3,
            name: 'Dev Bhoomi University',
            logo: '🏫',
            tuitionFee: 180000,
            hostelFee: 100000,
            examFee: 4500,
            libraryFee: 9000,
            scholarshipAvailable: true,
            totalFee: 293500,
            courses: ['B.Tech', 'BBA', 'B.Pharm', 'MBA']
        },
        {
            id: 4,
            name: 'GRD Institute',
            logo: '🏢',
            tuitionFee: 140000,
            hostelFee: 85000,
            examFee: 3500,
            libraryFee: 7000,
            scholarshipAvailable: false,
            totalFee: 235500,
            courses: ['B.Tech', 'MCA', 'BCA', 'B.Sc IT']
        },
        {
            id: 5,
            name: 'DIT University',
            logo: '🏛️',
            tuitionFee: 190000,
            hostelFee: 110000,
            examFee: 5000,
            libraryFee: 9500,
            scholarshipAvailable: true,
            totalFee: 314500,
            courses: ['B.Tech', 'BBA', 'B.Arch', 'M.Tech']
        },
        {
            id: 6,
            name: 'Graphic Era University',
            logo: '🎓',
            tuitionFee: 195000,
            hostelFee: 115000,
            examFee: 5500,
            libraryFee: 10000,
            scholarshipAvailable: true,
            totalFee: 325500,
            courses: ['B.Tech', 'MBA', 'BCA', 'MCA']
        }
    ];

    // Format currency
    function formatCurrency(amount) {
        return new Intl.NumberFormat('en-IN', {
            style: 'currency',
            currency: 'INR',
            maximumFractionDigits: 0
        }).format(amount);
    }

    // Get fee class based on amount
    function getFeeClass(fee, colleges) {
        const maxFee = Math.max(...colleges.map(c => c.totalFee));
        const minFee = Math.min(...colleges.map(c => c.totalFee));
        
        if (fee === minFee) return 'fees-low';
        if (fee === maxFee) return 'fees-high';
        
        const range = maxFee - minFee;
        const position = (fee - minFee) / range;
        
        if (position < 0.33) return 'fees-low';
        if (position < 0.66) return 'fees-medium';
        return 'fees-high';
    }

    // Variables to track state
    let sortConfig = {
        key: 'totalFee',
        direction: 'ascending'
    };
    let searchTerm = '';
    let selectedCourseFilter = '';
    let compareColleges = {};

    // DOM elements
    const collegeTableBody = document.getElementById('collegeTableBody');
    const noResultsElement = document.getElementById('noResults');
    const collegeSearchInput = document.getElementById('collegeSearch');
    const courseFilterSelect = document.getElementById('courseFilter');
    const compareBtn = document.getElementById('compareBtn');
    const selectedCountBadge = document.getElementById('selectedCount');
    const comparisonModal = document.getElementById('comparisonModal');
    const closeModalBtn = document.getElementById('closeModal');
    const collegeHeaderCompare = document.getElementById('collegeHeaderCompare');
    const feeComparisonTableBody = document.getElementById('feeComparisonTableBody');
    const coursesGrid = document.getElementById('coursesGrid');
    const college1NameHeader = document.getElementById('college1NameHeader');
    const college2NameHeader = document.getElementById('college2NameHeader');

    // Sort headers
    const sortableHeaders = document.querySelectorAll('th.sortable');

    // Function to render college table
    function renderCollegeTable() {
        // Filter colleges
        let filteredColleges = [...collegeData];
        
        if (searchTerm) {
            filteredColleges = filteredColleges.filter(college => 
                college.name.toLowerCase().includes(searchTerm.toLowerCase())
            );
        }
        
        if (selectedCourseFilter) {
            filteredColleges = filteredColleges.filter(college => 
                college.courses.includes(selectedCourseFilter)
            );
        }
        
        // Sort colleges
        filteredColleges.sort((a, b) => {
            if (a[sortConfig.key] < b[sortConfig.key]) {
                return sortConfig.direction === 'ascending' ? -1 : 1;
            }
            if (a[sortConfig.key] > b[sortConfig.key]) {
                return sortConfig.direction === 'ascending' ? 1 : -1;
            }
            return 0;
        });
        
        // Clear table body
        collegeTableBody.innerHTML = '';
        
        // Show/hide no results message
        if (filteredColleges.length === 0) {
            noResultsElement.style.display = 'block';
        } else {
            noResultsElement.style.display = 'none';
        }
        
        // Create table rows
        filteredColleges.forEach(college => {
            const row = document.createElement('tr');
            
            row.innerHTML = `
                <td>
                    <div class="college-info">
                        <input 
                            type="checkbox" 
                            id="compare-${college.id}" 
                            ${compareColleges[college.id] ? 'checked' : ''} 
                            ${!compareColleges[college.id] && Object.values(compareColleges).filter(Boolean).length >= 2 ? 'disabled' : ''}
                            style="margin-right: 0.75rem;"
                        >
                        <div class="college-logo">${college.logo}</div>
                        <div>
                            <div class="college-name">${college.name}</div>
                            ${college.scholarshipAvailable ? 
                                `<div class="badge-green">Scholarships Available</div>` : ''}
                        </div>
                    </div>
                </td>
                <td>${formatCurrency(college.tuitionFee)}<span style="color: var(--text-muted);">/year</span></td>
                <td>${formatCurrency(college.hostelFee)}<span style="color: var(--text-muted);">/year</span></td>
                <td>
                    <div class="fees-info" style="position: relative;">
                        View Details ℹ️
                        <div class="fees-tooltip">
                            <div class="tooltip-item">
                                <span>Exam Fee:</span>
                                <span>${formatCurrency(college.examFee)}</span>
                            </div>
                            <div class="tooltip-item">
                                <span>Library Fee:</span>
                                <span>${formatCurrency(college.libraryFee)}</span>
                            </div>
                        </div>
                    </div>
                </td>
                <td>
                    <div class="${getFeeClass(college.totalFee, filteredColleges)}">
                        ${formatCurrency(college.totalFee)}<span style="color: var(--text-muted); font-weight: normal;">/year</span>
                    </div>
                </td>
            `;
            
            collegeTableBody.appendChild(row);
            
            // Add checkbox event listener
            const checkbox = row.querySelector(`#compare-${college.id}`);
            checkbox.addEventListener('change', () => {
                compareColleges[college.id] = checkbox.checked;
                updateCompareButton();
                renderCollegeTable(); // Re-render to update disabled states
            });
        });
    }

    // Update compare button state
    function updateCompareButton() {
        const selectedCount = Object.values(compareColleges).filter(Boolean).length;
        selectedCountBadge.textContent = `${selectedCount}/2`;
        
        if (selectedCount === 2) {
            compareBtn.disabled = false;
        } else {
            compareBtn.disabled = true;
        }
    }

    // Render comparison modal
    function renderComparisonModal() {
        // Get selected colleges
        const selectedCollegeIds = Object.entries(compareColleges)
            .filter(([_, selected]) => selected)
            .map(([id]) => parseInt(id));
        
        if (selectedCollegeIds.length !== 2) return;
        
        const college1 = collegeData.find(c => c.id === selectedCollegeIds[0]);
        const college2 = collegeData.find(c => c.id === selectedCollegeIds[1]);
        
        // Render college headers
        collegeHeaderCompare.innerHTML = `
            <div class="college-header-item">
                <div class="college-header-logo">${college1.logo}</div>
                <div>
                    <div class="college-header-name">${college1.name}</div>
                    ${college1.scholarshipAvailable ? 
                        `<div class="badge-green">Scholarships Available</div>` : ''}
                </div>
            </div>
            <div class="college-header-item">
                <div class="college-header-logo">${college2.logo}</div>
                <div>
                    <div class="college-header-name">${college2.name}</div>
                    ${college2.scholarshipAvailable ? 
                        `<div class="badge-green">Scholarships Available</div>` : ''}
                </div>
            </div>
        `;
        
        // Update table headers
        college1NameHeader.textContent = college1.name;
        college2NameHeader.textContent = college2.name;
        
        // Render fee comparison table
        feeComparisonTableBody.innerHTML = `
            <tr>
                <td>Tuition Fee</td>
                <td>${formatCurrency(college1.tuitionFee)}</td>
                <td>${formatCurrency(college2.tuitionFee)}</td>
                <td class="${college1.tuitionFee < college2.tuitionFee ? 'fees-low' : 'fees-high'}">
                    ${formatCurrency(Math.abs(college1.tuitionFee - college2.tuitionFee))}
                    ${college1.tuitionFee < college2.tuitionFee ? ' less' : ' more'}
                </td>
            </tr>
            <tr>
                <td>Hostel Fee</td>
                <td>${formatCurrency(college1.hostelFee)}</td>
                <td>${formatCurrency(college2.hostelFee)}</td>
                <td class="${college1.hostelFee < college2.hostelFee ? 'fees-low' : 'fees-high'}">
                    ${formatCurrency(Math.abs(college1.hostelFee - college2.hostelFee))}
                    ${college1.hostelFee < college2.hostelFee ? ' less' : ' more'}
                </td>
            </tr>
            <tr>
                <td>Exam Fee</td>
                <td>${formatCurrency(college1.examFee)}</td>
                <td>${formatCurrency(college2.examFee)}</td>
                <td class="${college1.examFee < college2.examFee ? 'fees-low' : 'fees-high'}">
                    ${formatCurrency(Math.abs(college1.examFee - college2.examFee))}
                    ${college1.examFee < college2.examFee ? ' less' : ' more'}
                </td>
            </tr>
            <tr>
                <td>Library Fee</td>
                <td>${formatCurrency(college1.libraryFee)}</td>
                <td>${formatCurrency(college2.libraryFee)}</td>
                <td class="${college1.libraryFee < college2.libraryFee ? 'fees-low' : 'fees-high'}">
                    ${formatCurrency(Math.abs(college1.libraryFee - college2.libraryFee))}
                    ${college1.libraryFee < college2.libraryFee ? ' less' : ' more'}
                </td>
            </tr>
            <tr style="background-color: #f9fafb; font-weight: 600;">
                <td>Total Fee</td>
                <td>${formatCurrency(college1.totalFee)}</td>
                <td>${formatCurrency(college2.totalFee)}</td>
                <td class="${college1.totalFee < college2.totalFee ? 'fees-low' : 'fees-high'}">
                    ${formatCurrency(Math.abs(college1.totalFee - college2.totalFee))}
                    ${college1.totalFee < college2.totalFee ? ' less' : ' more'}
                </td>
            </tr>
        `;
        
        // Render courses grid
        const allCourses = [...new Set([...college1.courses, ...college2.courses])].sort();
        
        coursesGrid.innerHTML = '';
        allCourses.forEach(course => {
            const courseItem = document.createElement('div');
            courseItem.className = 'course-item';
            
            courseItem.innerHTML = `
                <span class="course-name">${course}</span>
                <div class="course-availability">
                    <span class="${college1.courses.includes(course) ? 'available' : 'not-available'}">
                        ${college1.courses.includes(course) ? '✓' : '✗'}
                    </span>
                    <span class="${college2.courses.includes(course) ? 'available' : 'not-available'}">
                        ${college2.courses.includes(course) ? '✓' : '✗'}
                    </span>
                </div>
            `;
            
            coursesGrid.appendChild(courseItem);
        });
        
        // Render chart
        renderComparisonChart(college1, college2);
        
        // Show modal
        comparisonModal.classList.add('active');
    }

    // Render comparison chart
    function renderComparisonChart(college1, college2) {
        const ctx = document.getElementById('comparisonChart').getContext('2d');
        
        // Destroy previous chart if exists
        if (window.comparisonChartInstance) {
            window.comparisonChartInstance.destroy();
        }
        
        // Prepare data
        const labels = ['Tuition Fee', 'Hostel Fee', 'Exam Fee', 'Library Fee', 'Total Fee'];
        const data1 = [
            college1.tuitionFee, 
            college1.hostelFee, 
            college1.examFee, 
            college1.libraryFee, 
            college1.totalFee
        ];
        const data2 = [
            college2.tuitionFee, 
            college2.hostelFee, 
            college2.examFee, 
            college2.libraryFee, 
            college2.totalFee
        ];
        
        // Create chart
        window.comparisonChartInstance = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [
                    {
                        label: college1.name,
                        data: data1,
                        backgroundColor: '#4f46e5',
                        borderColor: '#4338ca',
                        borderWidth: 1
                    },
                    {
                        label: college2.name,
                        data: data2,
                        backgroundColor: '#10b981',
                        borderColor: '#059669',
                        borderWidth: 1
                    }
                ]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '₹' + value.toLocaleString();
                            }
                        }
                    }
                },
                plugins: {
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + formatCurrency(context.raw);
                            }
                        }
                    }
                }
            }
        });
    }

    // Event listeners
    sortableHeaders.forEach(header => {
        header.addEventListener('click', () => {
            const key = header.getAttribute('data-sort');
            if (sortConfig.key === key) {
                sortConfig.direction = sortConfig.direction === 'ascending' ? 'descending' : 'ascending';
            } else {
                sortConfig.key = key;
                sortConfig.direction = 'ascending';
            }
            renderCollegeTable();
        });
    });

    collegeSearchInput.addEventListener('input', (e) => {
        searchTerm = e.target.value;
        renderCollegeTable();
    });

    courseFilterSelect.addEventListener('change', (e) => {
        selectedCourseFilter = e.target.value;
        renderCollegeTable();
    });

    compareBtn.addEventListener('click', () => {
        renderComparisonModal();
    });

    closeModalBtn.addEventListener('click', () => {
        comparisonModal.classList.remove('active');
    });

    // Initial render
    renderCollegeTable();
</script>
</body>
</html>
